<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PJ Shopping Web</title>

<link rel="manifest" href="manifest.json">

<style>

:root{
--bg:#ffffff;
--text:#000;
--card:#ffffffcc;
--accent:#ff7a00;
}

.dark{
--bg:#0d0d0d;
--text:#fff;
--card:#1a1a1acc;
}

body{
margin:0;
font-family:Segoe UI;
background:var(--bg);
color:var(--text);
transition:.4s;
}

/* header */
header{
display:flex;
justify-content:space-between;
align-items:center;
padding:15px 25px;
font-size:26px;
font-weight:700;
background:linear-gradient(90deg,#000,#222);
color:var(--accent);
}

/* menu */
.menu{
font-size:26px;
cursor:pointer;
}

.dropdown{
position:absolute;
right:20px;
top:70px;
background:var(--card);
backdrop-filter:blur(20px);
padding:20px;
border-radius:20px;
display:none;
box-shadow:0 20px 50px rgba(0,0,0,.3);
animation:fade .4s;
}

.dropdown button{
display:block;
margin:10px 0;
padding:12px 18px;
border:none;
border-radius:12px;
background:var(--accent);
color:white;
cursor:pointer;
font-weight:bold;
}

@keyframes fade{
from{opacity:0; transform:translateY(-20px)}
}

/* pages */
.page{
display:none;
padding:40px 20px;
text-align:center;
min-height:100vh;
}
.active{display:block}

/* hero */
.hero{
font-size:38px;
margin-top:120px;
font-weight:800;
}

/* buttons */
.btn{
margin-top:30px;
padding:18px 45px;
border:none;
border-radius:16px;
font-size:20px;
cursor:pointer;
color:white;
background:linear-gradient(145deg,#ffa033,#ff6a00);
box-shadow:0 10px 30px rgba(255,120,0,.6);
transition:.3s;
}
.btn:hover{transform:scale(1.05)}

/* card */
.card{
max-width:320px;
margin:40px auto;
background:var(--card);
backdrop-filter:blur(20px);
border-radius:25px;
box-shadow:0 30px 60px rgba(0,0,0,.3);
overflow:hidden;
animation:fade .8s;
}

.card img{width:100%}
.price{color:var(--accent);font-size:22px;font-weight:bold}

.actions{
display:flex;
justify-content:space-around;
padding:15px;
}

/* heart */
.favTop{
position:absolute;
right:20px;
top:80px;
font-size:30px;
cursor:pointer;
}

/* flying heart */
.fly{
position:fixed;
color:red;
font-size:25px;
pointer-events:none;
animation:fly 2s forwards;
}
@keyframes fly{
100%{
transform:translate(var(--x),var(--y)) rotate(720deg);
opacity:0;
}
}

/* chat */
.chat{
max-width:600px;
margin:auto;
background:var(--card);
padding:20px;
border-radius:20px;
height:60vh;
overflow:auto;
box-shadow:0 20px 50px rgba(0,0,0,.3);
}

.msg{margin:12px 0}
.user{color:var(--accent)}
.bot{color:var(--text)}

input{
padding:12px;
width:70%;
border-radius:10px;
border:1px solid #ccc;
}
.send{
padding:12px 20px;
border:none;
background:var(--accent);
color:white;
border-radius:10px;
cursor:pointer;
}

/* footer */
footer{
font-size:12px;
text-align:center;
padding:20px;
opacity:.7;
}

</style>
</head>

<body>

<header>
PJ Shopping Web
<div class="menu" onclick="toggleMenu()">‚ãÆ</div>
</header>

<div class="dropdown" id="menuBox">

<button onclick="toggleDark()">üåô Toggle Mode</button>

<button onclick="openPage('track')">üì¶ Order Tracking</button>

<button id="installBtn" style="display:none">‚¨á Install App</button>

</div>

<!-- HOME -->
<div id="home" class="page active">

<div class="hero">PJ classical flutes Shop</div>

<button class="btn" onclick="openPage('shop')">Shop Now</button><br>
<button class="btn" onclick="openPage('ai')">AI Assistant</button>

</div>

<!-- SHOP -->
<div id="shop" class="page">

<div class="favTop" id="favTop">ü§ç</div>

<div class="card">

<img src="https://i.postimg.cc/g2VBTyPP/Screenshot-20260218-002911-Whats-App-Business.png">

<h2>C middle flute</h2>
<div class="price">‚Çπ1500</div>
<p>C middle flute match with your magical Vibes.</p>

<div class="actions">
<span onclick="like(event)" style="cursor:pointer;font-size:26px">‚ù§Ô∏è</span>

<button class="btn" onclick="buy()">Buy</button>
</div>

</div>
</div>

<!-- TRACK -->
<div id="track" class="page">
<h2>Order Tracking</h2>

<input id="trackNum" placeholder="Enter tracking number">
<br><br>
<button class="btn" onclick="track()">Track</button>
</div>

<!-- AI -->
<div id="ai" class="page">
<h2>AI Assistant</h2>

<div class="chat" id="chat"></div>

<br>
<input id="msg">
<button class="send" onclick="ask()">Send</button>
</div>

<footer>¬©PJ official shopping website</footer>

<script>

/* navigation */
function openPage(id){
document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
document.getElementById(id).classList.add("active");
toggleMenu(false);
}

/* menu */
function toggleMenu(force){
let m=document.getElementById("menuBox");
m.style.display = force===false ? "none" :
m.style.display=="block"?"none":"block";
}

/* dark mode */
function toggleDark(){
document.body.classList.toggle("dark");
}

/* buy */
function buy(){
window.open("https://wa.me/919476091829?text=I want to buy C middle flute ‚Çπ1500");
}

/* heart animation */
function like(e){
let heart=document.createElement("div");
heart.className="fly";
heart.innerHTML="‚ù§";
document.body.appendChild(heart);

let r=e.target.getBoundingClientRect();
let t=document.getElementById("favTop").getBoundingClientRect();

heart.style.left=r.left+"px";
heart.style.top=r.top+"px";
heart.style.setProperty("--x",(t.left-r.left)+"px");
heart.style.setProperty("--y",(t.top-r.top)+"px");

setTimeout(()=>heart.remove(),2000);

let top=document.getElementById("favTop");
setTimeout(()=>{top.textContent="‚ù§Ô∏è"},1800);
}

/* tracking */
function track(){
let n=document.getElementById("trackNum").value;
if(!n)return alert("Enter tracking number");
window.open("https://www.indiapost.gov.in/_layouts/15/dop.portal.tracking/trackconsignment.aspx?Consignment="+n);
}

/* AI CHAT */
async function ask(){

let input=document.getElementById("msg");
let text=input.value.trim();
if(!text)return;

let chat=document.getElementById("chat");

chat.innerHTML+=`<div class="msg user">You: ${text}</div>`;
input.value="";

let typing=document.createElement("div");
typing.className="msg bot";
typing.textContent="AI is typing...";
chat.appendChild(typing);

let res=await fetch("https://openrouter.ai/api/v1/chat/completions",{
method:"POST",
headers:{
"Content-Type":"application/json",
"Authorization":"Bearer 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"
},
body:JSON.stringify({
model:"openai/gpt-3.5-turbo",
messages:[{role:"user",content:text}]
})
});

let data=await res.json();
typing.remove();

let reply=data.choices?.[0]?.message?.content || "No response";

typeWriter(reply);

}

/* typing effect */
function typeWriter(text){
let chat=document.getElementById("chat");
let div=document.createElement("div");
div.className="msg bot";
chat.appendChild(div);

let i=0;
let interval=setInterval(()=>{
div.textContent="AI: "+text.slice(0,i++);
if(i>text.length)clearInterval(interval);
},15);
}

/* PWA install */
let deferred;
window.addEventListener("beforeinstallprompt",e=>{
e.preventDefault();
deferred=e;
document.getElementById("installBtn").style.display="block";
});

installBtn.onclick=async()=>{
deferred.prompt();
};

/* auto show install after delay */
setTimeout(()=>{
if(deferred) installBtn.style.display="block";
},4000);

</script>

</body>
</html>
